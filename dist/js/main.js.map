{"version":3,"file":null,"sources":["../../src/slider.js"],"sourcesContent":["window.slider = function(el, options){\r\n    this.default = {\r\n\r\n        // 是否自动播放，默认不自动播放\r\n        autoplay: false,\r\n\r\n        // 幻灯片延迟事件\r\n        delay: 3000,\r\n\r\n        // 动画速度\r\n        delay: 3000,\r\n\r\n    }\r\n\r\n    this.$state = false         // 幻灯片状态\r\n\r\n    this.$el = el\r\n\r\n    this.options = {}\r\n    /*\r\n     初始化的设置之类的\r\n\r\n     初始执行\r\n     */\r\n    this.init = (options) => {\r\n        console.log(options)\r\n\r\n        this.current = 0\r\n        this.initDom()\r\n        this.initSize()\r\n        this.initNav()\r\n    }\r\n\r\n    // 初始dom的属性\r\n    this.initDom = () => {\r\n        // el的宽高就是幻灯片的宽高\r\n        let els = this.$el.innerHTML\r\n\r\n        // 幻灯片数量\r\n        this.length = this.$el.children.length\r\n\r\n        // 幻灯片容器\r\n        let box = document.createElement(\"div\")\r\n\r\n        box.className = \"y-slider-box\"\r\n\r\n        box.innerHTML = els\r\n\r\n        this.$el.innerHTML = \"\"\r\n\r\n        this.$el.appendChild(box)\r\n\r\n        this.$el.box = box\r\n\r\n        for(var i = 0; i<this.$el.box.children.length; i++){\r\n            this.$el.box.children[i].className += \" y-slider-list\"\r\n        }\r\n\r\n        return this\r\n\r\n    }\r\n\r\n    this.initSize = () => {\r\n        this.$el.style.overflow = \"hidden\"\r\n\r\n        this.$el.box.style.width = `${100 * this.length}%`\r\n\r\n        for(var i = 0; i<this.$el.box.children.length; i++){\r\n            this.$el.box.children[i].style.width = `${100 / this.length}%`\r\n        }\r\n\r\n        return this\r\n    }\r\n    // 初始nav\r\n    this.initNav = () => {\r\n        let self = this\r\n        let nav = document.createElement(\"nav\")\r\n        nav.className = \"y-slider-nav\"\r\n        for(let i = 0; i<this.length; i++) {\r\n            nav.innerHTML += `<a data-nav=\"${i}\">${i+1}</a>`\r\n        }\r\n        this.$el.appendChild(nav)\r\n        this.$el.nav = nav\r\n\r\n        this.$el.nav.children[this.current].className = \"active\"\r\n\r\n        this.$el.addEventListener(\"click\", (e) => {\r\n            if(e.target.nodeName === \"A\") {\r\n                self.current = e.target.getAttribute(\"data-nav\")\r\n                self.animation()\r\n                self.navEvent()\r\n            }\r\n        })\r\n    }\r\n\r\n    this.navEvent = () => {\r\n        this.$el.nav.getElementsByClassName(\"active\")[0].removeAttribute(\"class\")\r\n        this.$el.nav.children[this.current].className = \"active\"\r\n    }\r\n    this.next = () => {\r\n        this.current += 1;\r\n\r\n        if(this.current >= this.length){\r\n            this.current = 0\r\n        }\r\n        return this.animation()\r\n    }\r\n\r\n    this.prev = () => {\r\n        this.current -= 1;\r\n\r\n        if(this.current < 0){\r\n            this.current = this.length - 1\r\n        }\r\n        return this.animation()\r\n    }\r\n\r\n    this.animation = () => {\r\n        this.navEvent()\r\n        this.$el.box.style.transition = `.5s transform`\r\n        this.$el.box.style.transform = `translateX(${-this.$el.offsetWidth * this.current}px)`\r\n\r\n        this.$el.box.addEventListener(\"transitionend\", this.end)\r\n    }\r\n\r\n    this.end = () => {\r\n        this.$el.box.style.transition = `none`\r\n    }\r\n\r\n\r\n    return this.init(options)\r\n}\r\n"],"names":["this","let"],"mappings":"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"}